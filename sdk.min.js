/*! Ringover AI Chat SDK v1.0.1 Build time: 12-02-2025 15:34:54 */
function log(...t){window.origin.includes("localhost")&&console.log(...t)}let ENV={PRODUCTION:"production",STAGING:"staging",DEV:"dev"},IFRAME_SRC_MAP={[ENV.PRODUCTION]:"https://ask-airo-dot-aichat-408808.ey.r.appspot.com",[ENV.STAGING]:"https://ask-airo-dot-aichat-408808.ey.r.appspot.com",[ENV.DEV]:"https://ask-airo-dot-aichat-408808.ey.r.appspot.com"};class AskAiroChat{isIframePresent=!1;isReady=!1;isOpen=!1;MESSAGE_TYPES={IS_READY:"is_ready",IS_CHATBOX_OPEN:"is_chatbox_open",SET_STYLES:"set_styles",URL_CHANGED:"url_changed"};CLOSED_CHAT_WIDTH="60px";CLOSED_CHAT_HEIGHT="60px";OPEN_CHAT_WIDTH="400px";OPEN_CHAT_HEIGHT="600px";constructor(t={}){if(!this.isIframePresent){var e=t?.env||ENV.PRODUCTION;let i=t?.baseUrl||IFRAME_SRC_MAP[e];e=i+"/chat";this.baseUrl=i,this.options=t,this.iframeSrc=e,this.createButton(t),this.createIframeContainer(t),this.isIframePresent=!0;window.addEventListener("message",t=>{var e=i;t.origin.includes(e.replace(/^https?:\/\//,"").split("/")[0])&&(log("MESSAGE FROM IFRAME",t.data),t.data?.type===this.MESSAGE_TYPES.IS_READY?this.isReady=!0:t.data?.type===this.MESSAGE_TYPES.IS_CHATBOX_OPEN&&(t.data.data?this.open():this.close()))}),this.trackUrlChanges(),setTimeout(()=>{this.sendMessage({type:this.MESSAGE_TYPES.IS_READY})},100)}}createButton(t){let e=document.createElement("button");var i=t?.position||"bottom-right",o=t?.buttonSize||60,s=t?.buttonColor||"#3b82f6",a=t?.zIndex||9999,r=t?.offset||20;e.innerHTML=`
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="width: 28px; height: 28px; fill: white;">
        <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
      </svg>
    `,e.setAttribute("aria-label","Open Ask Airo Chat"),e.setAttribute("role","button"),e.style.cssText=`
      position: fixed;
      width: ${o}px;
      height: ${o}px;
      border-radius: 50%;
      background: ${s};
      border: none;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: ${a};
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      padding: 0;
      outline: none;
    `,"bottom-right"===i?(e.style.bottom=r+"px",e.style.right=r+"px"):"bottom-left"===i?(e.style.bottom=r+"px",e.style.left=r+"px"):"top-right"===i?(e.style.top=r+"px",e.style.right=r+"px"):"top-left"===i&&(e.style.top=r+"px",e.style.left=r+"px"),void 0!==t?.bottom&&(e.style.bottom=t.bottom),void 0!==t?.top&&(e.style.top=t.top),void 0!==t?.left&&(e.style.left=t.left),void 0!==t?.right&&(e.style.right=t.right),e.addEventListener("mouseenter",()=>{e.style.transform="scale(1.1)",e.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.2), 0 4px 8px rgba(0, 0, 0, 0.15)"}),e.addEventListener("mouseleave",()=>{e.style.transform="scale(1)",e.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1)"}),e.addEventListener("click",()=>{this.toggle()}),document.body.appendChild(e),this.button=e}createIframeContainer(t){var e=document.createElement("div"),i=document.createElement("iframe"),o=t?.position||"bottom-right",s=t?.buttonSize||60,a=(t?.zIndex||9999)-1,r=t?.offset||20,n=t?.iframeWidth||400,t=t?.iframeHeight||600;i.src=this.iframeSrc,i.frameBorder="0",i.style.cssText=`
      width: 100%;
      height: 100%;
      border: none;
      display: block;
    `,i.setAttribute("allow","microphone; camera"),i.setAttribute("title","Ask Airo Chat");let d=document.createElement("button");d.innerHTML="Ã—",d.setAttribute("aria-label","Close chat"),d.style.cssText=`
      position: absolute;
      top: 12px;
      right: 12px;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.5);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: ${1+a};
      transition: all 0.2s;
      color: white;
      font-size: 20px;
      line-height: 1;
      padding: 0;
    `,d.addEventListener("mouseenter",()=>{d.style.background="rgba(0, 0, 0, 0.7)",d.style.transform="rotate(90deg)"}),d.addEventListener("mouseleave",()=>{d.style.background="rgba(0, 0, 0, 0.5)",d.style.transform="rotate(0deg)"}),d.addEventListener("click",()=>{this.close()}),e.appendChild(d),e.appendChild(i),e.style.cssText=`
      position: fixed;
      width: ${n}px;
      height: ${t}px;
      z-index: ${a};
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), 0 8px 24px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      opacity: 0;
      transform: scale(0.8) translateY(20px);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
      background: white;
    `,"bottom-right"===o?(e.style.bottom=s+r+10+"px",e.style.right=r+"px"):"bottom-left"===o?(e.style.bottom=s+r+10+"px",e.style.left=r+"px"):"top-right"===o?(e.style.top=s+r+10+"px",e.style.right=r+"px"):"top-left"===o&&(e.style.top=s+r+10+"px",e.style.left=r+"px");n=`
      @media (max-width: 480px) {
        #${e.id||"aura-chat-container"} {
          width: 100vw !important;
          height: 100vh !important;
          border-radius: 0 !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
        }
      }
    `;document.getElementById("aura-chat-mobile-styles")||((t=document.createElement("style")).id="aura-chat-mobile-styles",t.textContent=n,document.head.appendChild(t)),e.id="aura-chat-container-"+Date.now(),document.body.appendChild(e),this.container=e,this.iframe=i}sendMessage(t){this.iframe&&this.iframe.contentWindow&&this.iframe.contentWindow.postMessage(t,"*")}open(){this.isOpen||(this.isOpen=!0,this.container.style.opacity="1",this.container.style.transform="scale(1) translateY(0)",this.container.style.pointerEvents="all",this.button.style.transform="scale(0.9)",this.iframe&&this.iframe.focus())}close(){this.isOpen&&(this.isOpen=!1,this.container.style.opacity="0",this.container.style.transform="scale(0.8) translateY(20px)",this.container.style.pointerEvents="none",this.button.style.transform="scale(1)")}toggle(){this.isOpen?this.close():this.open()}trackUrlChanges(){let e=()=>{var t=window.location.href;this.sendMessage({type:this.MESSAGE_TYPES.URL_CHANGED,url:t})},i=history.pushState,o=history.replaceState;history.pushState=(...t)=>{i.apply(history,t),e()},history.replaceState=(...t)=>{o.apply(history,t),e()},window.addEventListener("popstate",e),e()}updateConfig(t){this.options={...this.options,...t},this.destroy(),this.isIframePresent=!1;t=new AskAiroChat(this.options);Object.assign(this,t)}destroy(){this.button&&this.button.parentNode&&this.button.parentNode.removeChild(this.button),this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.isIframePresent=!1,this.isReady=!1,this.isOpen=!1}}function initWidget(){if(window.AuraChatWidget&&window.AuraChatWidget instanceof AskAiroChat)return window.AuraChatWidget;var t,e,i,o,s,a=document.currentScript||document.querySelector("script[data-aura-config]")||document.querySelector('script[src*="sdk"]');let r={};return a&&(s=a.getAttribute("data-base-url"),t=a.getAttribute("data-env"),e=a.getAttribute("data-position"),i=a.getAttribute("data-button-color"),o=a.getAttribute("data-button-size"),a=a.getAttribute("data-z-index"),s&&(r.baseUrl=s),t&&(r.env=t),e&&(r.position=e),i&&(r.buttonColor=i),o&&(r.buttonSize=parseInt(o,10)),a)&&(r.zIndex=parseInt(a,10)),window.AuraChatConfig&&(r={...r,...window.AuraChatConfig}),0!==Object.keys(r).length||r.baseUrl?(s=new AskAiroChat(r),window.AuraChatWidget=s):null}window.AskAiroChat=AskAiroChat,window.AuraChatWidget=AskAiroChat,"undefined"!=typeof module&&module.exports&&(module.exports=AskAiroChat),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initWidget):setTimeout(initWidget,0);
